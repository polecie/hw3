<div align="center">

`документация доступна по адресу` [`http://0.0.0.0:8000/api/openapi`](http://0.0.0.0:8000/api/openapi)

`rabbitmq админка` [`http://0.0.0.0:15672/`](http://0.0.0.0:15672/)

`мониторинг задач` [`http://localhost:5555/`](http://localhost:5555/)

</div>

## Запуск приложения

Клонировать репозиторий [`https://github.com/polecie/hw3`](https://github.com/polecie/hw3)

### Запуск контейнера с приложением

*При необходимости можно заменить переменные окружения из файла `.env` на свои*

Для запуска основного приложения необходимо использовать команды `make up`

Для остановки рекомендуется использовать `make down` для избежания конфликтов с портами

### Запуск контейнера с тестами

Для запуска тестов необходимо использовать команды `make test`

## Описание

### Задачи

1. Требуется написать REST API по работе с меню ресторана, необходимо реализовать все CRUD операции
2. Написать тесты для разработанных ендпоинтов API
3. Обернуть программные компоненты в контейнеры
4. Добавить `pre-commit` хуки
5. Описать ендпоинты API в соответствии с openapi
6. Кешировать `GET` запросы
7. Разделить бизнес логику и запросы в базу данных
8. Приложение должно быть асинхронным
9. Добавить в проект фоновую задачу по генераций меню ресторана в виде excel-документа
10. Добавить +2 ендпоинта для запуска фоновой задачи и получения результата в виде ссылки на файл, `POST` и `GET` соответственно
11. Добавить отдельный `GET` ендпоинт, который заполнит базу данных тестовыми данными для последующей генераций меню в excel-файл

### Требования
1. Данные меню, подменю, блюд для генераций excel-файла, должны доставаться одним ORM-запросом в БД (использовать подзапросы и агрегирующие функций SQL)
2. Код должен проходить все линтеры `(black, autopep, flake8, mypy, isort)`
3. Проект должен запускаться по одной команде, а тесты по другой
4. Проект должен проходить все `Postman` тесты
5. Тесты написанные самостоятельно, должны быть актуальны, запускаться и успешно проходить
6. Код должен соответствовать принципам `SOLID, DRY, KISS`

### Условия
Даны 3 сущности: **Меню, Подменю, Блюдо**
- Блюдо не может быть привязано напрямую к меню, минуя подменю
- Блюдо не может находиться в 2-х подменю одновременно
- Подменю не может находиться в 2-х меню одновременно
- Если удалить меню, должны удалиться все подменю и блюда этого меню
- Если удалить подменю, должны удалиться все блюда этого подменю
- Цены блюд выводить с округлением до 2 знаков после запятой
- Во время выдачи списка меню, для каждого меню добавлять кол-во подменю и блюд в этом меню
- Во время выдачи списка подменю, для каждого подменю добавлять кол-во блюд в этом подменю

### Зависимости
* У меню есть подменю, которые к нему привязаны
* У подменю есть блюда